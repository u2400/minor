$="èdate=¿w Date(²date.setFullYear(2006,11,31²èß=µ;ç6Ìdate.getDay()óß=trueÙèwôC§=[]¬1]=££¬2]=£%u5355£¬3]=£%u53CC£;èÐ=¿w String(££²èá=53;àaêyInfo(óë£í:£+öí·ï:£+öï·U:£+öU·úe:£+öúe·³:£+ö³·ÛNÀ:£+öÛNÀ·Ï:£+öÏüisSÀ¦(otheróëöÖ(other)&&(öÏGÏ)üÖ(otheróreturn(öíGí&&öUGU&&ö³G³)ü­(str,lengthóçlength<=1óëstrÙèrs=££;ùkÍk<length;kÚrs+=strÙërsüãe(c§,begin,endóçÐ!Ì££óÐ+=£ £ÙçbeginÌendóÐ+=beginÃÐ+=u¿scape(wôC§[c§])+begin+£-£+endÙëÐüqóèc§Íç(¥Å%2Ì=0óc§=3Ãc§=2Ù~1©¢Ù}else{çi-2Ì¥óc§=1Ù¢+1Ù}ëiü¤Éóèc§=1;~1)!='1'óËom+2,iÅ;ëi+2Ù}else{Ëom+2,i-1Å;ëi+1Ù}ëiüÞ(û,òôóÐ=££;çÁÌûóë££ÙèinitLength=ûø;çfrom>1óèbefore=ûâ0,from-1²çbefore.éOf('1')!=-1óû=û+beforeÙ}è¹=­(£0£,7²¹+=ûâ7,from+endWô-1²¹+=­(£0£,initLength-ûø²û=¹;çendWô>ûøóendWô=ûøÙçû.éOf('1')Ì-1óë££Ùû+=£000£;è¥ÍJ$Ùèi=¥+1;Ji<ûøóèpost=Ó¥+1²çpostÌ'0'ó¥=q)ÙçpostÌ'1'ó¥=¤É)ÙJ¥<ûø&&$Ùi=¥ÙëÐüÞV´(òôóçöÛNÀ!Ì££óëÞ(öÏ,òô)+£,£+öÛNÀÃëÞ(öÏ,òô)Ù}àor(Â,Üdóè¿wStr=££;ùiÍi<Âø;iÚçÂ«i)Ì'1'||Üd«i©¿wStr+=£1£Ã¿wStr+=£0£Ù}ë¿wStrü@(¾>1óùj=1;j<Îø;jÚÎ[0ý=or(Î[0ý,Î[jý²Î[j]=ÁÙ}}}àmergeByCourse(¾>1óùjÍj<Îø;jÚçÁ!=Î[j]óùk=j+1;j<Îø;kÚçÁ!=Î[k]óçÎ[j].úeÌÎ[k].úeóÎ[jý=or(Î[jý,Î[ký²Î[k]=ÁÙ}}}}}}}à½tWith(other¨¾!Ì0&&¼ìæi]ø!Ì0óùmÍm<Îø;mÚùnÍn<¼ìæi]ø;nÚùkÍk<Î[mýø;kÚçÎ[mý«k)Ì'1'&&¼ìæi][ný«k©ëtrueÙ}}}}}ëµüZse(year,é,òôóèvalidSõ=7;çÿæé]øÌ=0óë££Ùçÿæé]øÌ1óècnÀ¶0].úe;ètnÀ¶0].ï;ëtnÀ+£ £+cnÀ+£<br>(£+ÿæé][0±,µ)8£ÃèÄ=££;èþsÕ²þæ0]¶0±,true²ùi=1;i<ÿæé]ø;iÚèmerged=µ;ùjÍj<þsø;jÚçÿæé][i].Ö(þæj])ómerged=true;èÜ÷¶iý;ç!ß&&ÿæé][iýâ0,validSõ)ØÜ÷¶iýâ1,53)+£0£Ùþæjý=or(þæjý,Ü÷)Ù}ç!mergedóþæþsø]¶i±,µ)Ù}ùmÍm<þsø;mÚçþæm]Ì=ÁócontinueÙèúe=þæm].úe;èï=þæm].ï;çúe!ÌÁóÄ+=£<br>£+ï+£ £+úe;^m]8£;ùn=m+1;n<þsø;nÚçþæn]!ÌÁ&&úeÌþæn].úe&&ïÌþæn].ïó^n]8£;þæn]=ÁÙ}}çÄ.éOf(£<br>£)Ì=0óëÄâ4)ÃëÄÙ}}àisSÀAìs(Â,ÜdóçÿæÂ]ø!=ÿæÜd]øóëµÙçÿæÂ]øÌ1óëÿæÂ][0_[0])ÙùiÍi<ÿæÂ]ø;iÚèfind=µ;ùjÍj<ÿæÜd]ø;jÚçÿæÂ][i_[j])ófind=true;breakÙ}çfindÌ=µóëµÙ}ëtrueü×(ß,¥ó`)ØöÏ=öÏâ1,53)+£0£;ëtrueÙëµüÔe(ß,¥,mustClo¿óçmustClo¿óè¿w¦=öQ(²¿w¦.×(ß,¥²ë¿w¦Ã`)Øèaêy=öQ(²aêy.×(ß,¥²ëaêyÃëthisÙ}}àTask¦(í,ï,U,úe,³,ÛNÀ,Ï,taskIdóöí=íXï=ïXU=UXúe=úeX³=³XÛNÀ=ÛNÀXÏ=ÏXtaskId=taskIdXÞ=ÞV´Xãe=ãeXQ=QTask¦XÖ=ÖXisSÀ=isSÀ¦XtoString=aêyInfoXÔe=ÔeX×=×üQTask¦(óë¿w Task¦(öí,öï,öU,öúe,ö³,öÛNÀ,öÏ,ötaskId)üÞ¨(year,òôóùkÍk<öî;kÚçÿæk]ø>0óñntæk]=öÞ(year,k,òô)Ù}}àfill¨(tableId,wôs,KóèÝ¨åtableId²çÝ¨ÌÁóreturnÙùiÍi<wôs;iÚùjÍj<K-1;jÚèé=K*i+j;èpreÒé²èº;Jñntæé]zé+1]zé]Ìñntæé+1]ópreTd.parentNode.removeChild(¿xtTd²èÇ/Ê²Ç++;Ê=Ç;j++;çj>=K-1óbreakÙé=é+1;ºÙ}}ùkÍk<öî;kÚètdå£TD£+k²çtdzk]!=ÁótÈ=ñntæk];td.style.backgroundColor=£#94aef3£;td.classNÀ=£infotilte£Ù}}àCourse¨(îóöî=î;ÿs=[î];ñntsÕî²ùkÍk<î;kÚÿæk]=[]Ùö@=@XÞ=ZseXisSÀ=isSÀAìsX½tWith=½tWithXÞ¨=Þ¨Xfill=fill¨üadd¦ToCluster(í,ï,³,ÛNÀ,ÑóçÁÌ¸í+³]ó¸í+³]Õöwôs²ª[í+³]=¿w Task¦(í,ï,öU,öúe,³,ÛNÀ,££)Ù¸í+³][Ñ]=£1£ümergeCellOfCourse¨(wôs,KóùiÍi<wôs;iÚùjÍj<K-1;jÚèé=K*i+j;èpreÒé²èº;JpreTÈ!Ì££&&¿xtTÈ!Ì££&&preTÈÌ¿xtTÈópreTd.parentNode.removeChild(¿xtTd²èÇ/Ê²Ç++;Ê=Ç;j++;çj>=K-1óbreakÙé=é+1;ºÙ}}}àÆV´(¥Wô,äóèÂWôsÕá²èÜ÷=Á;è»=££;ùiÍi<á-1;iÚÂWôæi]=£0£ÙùÑÍÑ<¸ä]ø;ÑÚèoccupy=£0£;ç¸ä][Ñ]Ì=undefi¿d)occupyÌ£0£;else occupy=£1£;èÑNum/Ñ²ÑNum+=¥Wô-1;çÑNum<áóÂWôæÑNum]=occupyÃçÁÌÜ÷óÜ÷Õ²ùiÍi<á-1;iÚÜ÷[i]=£0£Ù}Ü÷[(ÑNum+(ß?0:1))%á]=occupyÙ}for(iÍi<á;iÚ»+=(ÂWôæi]ÌÁ)?£0£:ÂWôæi]Ùèv´Õ²ç»Øv´[v´ø]=»Ùè®=££;çÁ!=Ü÷ófor(iÍi<á;iÚ®+=(Ü÷[i]Ì=undefi¿d)?£0£:Ü÷[i]Ùç®Øv´[v´ø]=®Ù}ëv´üÆAìs(¥WôóèaìsÕ²ùä in ªóèv´=öÆV´(¥Wô,ä²ª[äý=v´[0];aìæaìsø]=ª[ä];çv´øÌ2óèQd=ª[ä].Q(²Qd.Ï=v´[1];aìæaìsø]=QdÙ}ëaìsü¦Cluster(U,úe,wôsóöU=UXúe=úeXwôs=wôsXwôsMap={};ª={}Xadd=add¦ToClusterXÆV´=ÆV´XgenAìs=ÆAìsÙ";$0="this.activitie¡tempActivitie¡].vaildWeeks¡;}function ¡weekOccupy¡courseNam¡for(var ¡.length¡dWeeks¡this.¡tart¡eek¡){¡from,sõWô,endW¡ömarshalConte¡=document.ge¡teacherName¡unitCounts¡teacherId¡ctivitie¡return ¡ctivit¡index¡var ¡if(¡s[¡ðtElementById(¡teacherRoomId¡addAbbreviat¡.substring(¡wôsPerYear¡function ¡endAtSat¡marshal¡course¡secon¡room¡++ó¡;}¡.éOf(£1£)!=-1ó¡adjustValidWô¡canMergeWith¡=new Array(¡adjustClon¡û.charAt(¡Tdå£TD£+¡wôIndex¡result¡vail÷¡ÿæi]¡=0;¡==¡ãe(cycle,sõ-fr¡preTd.colSpan¡(Ð,û,from,sõ¡d.innerHTML¡spanNumber¡construct¡-from+2)¡ÞString¡Ùelse{¡first¡null¡ame¡ne¡óùiÍi<öî;iÚçÎø¡isTimeConflic¡otherTable.a¡wôsThisYear¡¿xtÒ(é+1))¡tmpOccupy¡öwôsMap[¡+£\\n£+£¡=ÿæé][¡false¡ali÷¡ÛId¡);¡].Ôe(ß,validSõ¡èi=sõ+2;for(;¡°i<ûø;i+=2óç¡wôsNextYear¡repeatChar¡;wôCycle[¡.charAt(¡öaêyMap¡)Ì'1'ó¡Table¡ycle¡Aêy¡sõ¡mashalContinue¡Ëom+2,i-2Å;ëi¡'1'!=Ó¥)ó¥++¡=¿w Number(¡from+¥Wô-2¡.Þ(òô)+£)¡mergeAll¡Ìother.¡while(¡units¡clo¿¡ÝId¡;ö¡ÞByTeacherCour¡Ä+=£<br>(£+þæ¡].isSÀ(ÿæÜd]¡ç!ß&&öÏâ0,¥¡mashalOddÉ¡!=Á&&ñntæ¡¯Ói©çÓi+".split("¡");$O="ÿþýüûúùø÷öõôóòñðïîíìëêéèçæåäãâáàßÞÝÜÛÚÙØ×ÖÕÔÓÒÑÐÏÎÍÌËÊÉÈÇÆÅÄÃÂÁÀ¿¾½¼»º¹¸·¶µ´³²±°¯®­¬«ª©¨§¦¥¤¢$/78@GJKQUXZ^_`qz~";for(I=110;I>-1;--I)$=$.split($O.charAt(I)).join($0[I]);eval($.replace(/£/g,"\""))